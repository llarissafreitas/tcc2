//exibindo vagas corretamente
document.addEventListener("DOMContentLoaded", function() {
    const vagaLista = document.getElementById("vaga-lista");

    // Função para obter as vagas do backend
    function obterVagas() {
        fetch("http://localhost:8080/vagas/listar")
            .then(response => response.json())
            .then(vagas => {
                // Limpa a lista de vagas antes de adicionar novas
                vagaLista.innerHTML = "";

                vagas.forEach(vaga => {
                    const vagaElement = document.createElement("div");
                    vagaElement.classList.add("vaga");
                    vagaElement.innerHTML = `
                        <h3>${vaga.titulo}</h3>
                        <p>Local: ${vaga.local}</p>
                        <p>${vaga.descricao}</p>
                    `;
                    vagaLista.appendChild(vagaElement);
                });
            })
            .catch(error => {
                console.error("Erro ao obter vagas:", error);
            });
    }

    // Carregar as vagas assim que a página for carregada
    obterVagas();
});
